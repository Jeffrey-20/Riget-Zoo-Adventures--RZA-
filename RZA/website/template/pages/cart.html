{% extends "pages/base.html" %}
{% block content %}
<div class="container mt-4">
  <!--A container where we input our items in cards-->
  <h1>Your Cart</h1>

  {% if cart %}
  <table class="table table-striped">   <!-- The table which we can  see our items   -->
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Total</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for item in cart %}   <!--When the item is chosen, the product is saved here-->
      <tr>
        <td>{{ item.product.name }}</td>
        <td>{{ item.quantity }}</td>
        <td>£{{ item.total_price }}</td>
        <td>
          <a href="{% url 'remove_from_cart' item.product.id %}" class="btn btn-danger btn-sm">Remove</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <h4>Total: £{{ cart.get_total_price }}</h4> <!--Calculation for the products cost and saves the checkout-->

  {% else %}
  <p>Your cart is empty.</p>  <!-- When cart is empty the checkout is not saved -->
  {% endif %}
</div>

<div class="text-end">
  <a href="{% url 'checkout' %}" class="btn btn-success">Proceed to Checkout</a>  <!-- Finalises the purchase, cponnected to a url and view-->
</div>

{% endblock %}
